// STL includes
#include <vector>
#include <string>

// C includes

// Library includes
#include <cxxtest/TestSuite.h>

// Project includes
#include <Connector.h>
#include <Exception.h>

using namespace std;

class ExceptionTestSuite: public CxxTest::TestSuite
{
  struct TestConnectable: public Connectable
  {
    TestConnectable(Connector& _conn): Connectable(_conn) {}
  };
  Connector conn;
  TestConnectable* pcable;
  Exception* pe;
public:
  void setUp()
  {
    pcable = new TestConnectable(conn);
  }
  void tearDown()
  {
    delete pcable;
  }

  void testCreate( void )
  {
    Exception e(pcable,"Test");

    TS_ASSERT_EQUALS( string(e.what()) , "Test" )
  }
  
  void testCreateVargs( void )
  {
    Exception e(pcable,"Test %i",123);

    TS_ASSERT_EQUALS( string(e.what()) , "Test 123" )
  }
};
// vim:cin:ai:sts=2 sw=2 ft=cpp
